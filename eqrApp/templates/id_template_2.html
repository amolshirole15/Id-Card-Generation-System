{% load qr_code %}
<style>
    #uni_modal .modal-footer {
        display: none;
    }

    #uni_modal .modal-sub-footer {
        display: flex;
    }

    /* Fixed ID Card Size */
    .id-card-horizontal {
        width: 3.5in;  /* Reverted to standard ID card width */
        height: 2.5in;
        border: 2px solid var(--bs-dark);
        padding: 0.8rem;
        display: flex;
        align-items: flex-start;
        border-radius: 8px;
        background-color: #f7f7f7;
        margin: 0 auto;
    }

    /* Left and Right Columns */
    .id-card-left, .id-card-right {
        width: 50%;
    }

    /* Organization Name */
    .org-name {
        font-weight: bold;
        font-size: 0.9rem;
        margin-bottom: 0.3rem;
        text-align: center;
    }

    /* Avatar */
    #card-avatar-horizontal {
        width: 1in;
        height: 1in;
        object-fit: cover;
        border-radius: 50%;
        display: block;
        margin: 0.3rem auto;
        border: 1px solid #ddd;
    }

    /* Employee Info */
    .employee-info {
        text-align: center;
        margin-top: 0.2rem;
    }

    .employee-info strong {
        font-size: 0.85rem;
    }

    .employee-info .position {
        font-size: 0.75rem;
        color: #555;
    }

    /* Centered Contact & QR Code */
    .id-card-right {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    .contact-info {
        font-size: 0.75rem;
        width: 80%;
    }

    .contact-info dt {
        font-weight: bold;
        margin-bottom: 0.1rem;
    }

    .contact-info dd {
        margin: 0;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    /* QR Code */
    #card-qr-horizontal {
        width: 0.9in;
        height: 0.9in;
        display: block;
        margin-top: 0.6rem;
    }
</style>

<div class="container-fluid" id="id-card-horizontal">
    <div class="id-card-horizontal">
        <!-- Left Column -->
        <div class="id-card-left">
            <div class="org-name">{{ organization.organization_name }}</div>
            <img src="{% if employee.avatar %}{{ employee.avatar.url }}{% endif %}" id="card-avatar-horizontal" alt="Avatar">
            <div class="employee-info">
                <strong>{{ employee.name }}</strong><br>
                <div class="position">{{ employee.department }} - {{ employee.position }}</div>
                <div class="id-number"><strong>ID No:</strong> {{ employee.employee_code }}</div>
            </div>
        </div>
        <!-- Right Column -->
        <div class="id-card-right">
            <dl class="contact-info">
                <dt>Contact:</dt>
                <dd>{{ employee.contact }}</dd>
                <dt>Email:</dt>
                <dd>{{ employee.email }}</dd>
            </dl>
            <img src="{% qr_url_from_text employee.employee_code size=5 version=1 image_format='png' %}" id="card-qr-horizontal" alt="QR Code">
        </div>
    </div>
</div>

<noscript id="qr-style-horizontal">
<style>
    /* Adjust for printing */
    .id-card-horizontal {
        width: 3.5in;
        height: 2.5in;
        padding: 0.5rem;
    }

    #card-avatar-horizontal {
        width: 0.9in;
        height: 0.9in;
    }

    #card-qr-horizontal {
        width: 0.7in;
        height: 0.7in;
    }
</style>
</noscript>

<script>
    $(function() {
        // Adjust modal width based on content size
        $('#uni_modal').on('shown.bs.modal', function() {
            $(this).find('.modal-dialog').addClass('modal-lg'); // Optional: Change 'modal-lg' based on screen size if needed
        });
    });
</script>
